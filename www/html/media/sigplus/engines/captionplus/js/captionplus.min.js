(function(){/*
captionplus mouse-over image caption engine
@author  Levente Hunyadi
@version 1.5.0
@remarks Copyright (C) 2009-2014 Levente Hunyadi
@see     http://hunyadi.info.hu/projects/
*/
'use strict';var k={overlay:!0,position:"bottom",visibility:"mouseover",horzalign:"center",vertalign:"center"};
function m(b,c){function g(a){var b=document.createElement("textarea");b.innerHTML=a;return b.value}function h(a,b){return a&&a.hasAttribute(b)?a.getAttribute(b):null}var d=function(a,b){a=a||{};for(var c in JSON.parse(JSON.stringify(b)))a[c]=a[c]||b[c];return a}(c,k);if(!b.querySelector(".captionplus")){var a=b.querySelector("img");if(a){c=b.querySelector("a");var e=h(c,"data-title")||a.alt;c=h(c,"data-download");if(e||c){var f=document.createElement("div");f.classList.add("captionplus-align");f.classList.add("captionplus-horizontal-"+
d.horzalign);f.classList.add("captionplus-vertical-"+d.vertalign);if(e){var l=document.createElement("div");l.innerHTML=g(e);f.appendChild(l)}a=a.width;f.style.maxWidth=a?a+"px":"none";a=document.createElement("div");a.classList.add(d.overlay?"captionplus-overlay":"captionplus-outside");a.classList.add("captionplus-"+d.position);a.classList.add("captionplus-"+d.visibility);a.appendChild(f);d=document.createElement("div");d.classList.add("captionplus");for(e=0;e<b.children.length;e++)d.appendChild(b.children[e]);
d.appendChild(a);c&&(a=document.createElement("a"),a.classList.add("captionplus-button"),a.classList.add("captionplus-download"),a.href=c,f.appendChild(a));b.appendChild(d)}}}}m.bind=function(b,c){if(b)for(var g=0;g<b.children.length;g++){var h=b.children[g];"li"==h.tagName.toLowerCase()&&new m(h,c)}};window.CaptionPlus=m;}).call(this);
